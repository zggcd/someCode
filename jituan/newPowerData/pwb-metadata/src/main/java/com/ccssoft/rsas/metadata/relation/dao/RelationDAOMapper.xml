<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ccssoft.rsas.metadata.relation.dao.RelationDAOMapper">
  <resultMap id="BaseResultMap" type="com.ccssoft.rsas.metadata.relation.model.RelationVO">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 07 09:58:08 CST 2016.
    -->
    <id column="FDURELATIONID" jdbcType="VARCHAR" property="relationID" />
    <result column="FDUOWNEROBJID" jdbcType="VARCHAR" property="ownerObjID" />
    <result column="FDCOWNEROBJTYPE" jdbcType="CHAR" property="ownerObjType" />
    <result column="FDCDESC" jdbcType="VARCHAR" property="desc" />
  </resultMap>
  
  <insert id="addRelation" parameterType="com.ccssoft.rsas.metadata.relation.model.RelationVO">
  	insert into TBRELATION (FDURELATIONID, FDUOWNEROBJID, FDCOWNEROBJTYPE, FDCDESC)
  	values (#{relationID,jdbcType=VARCHAR}, #{ownerObjID,jdbcType=VARCHAR}, 
  	#{ownerObjType,jdbcType=CHAR}, #{desc,jdbcType=VARCHAR})
  </insert>
  
  <update id="updateRelation" parameterType="com.ccssoft.rsas.metadata.relation.model.RelationVO">
  	update TBRELATION 
  	set FDUOWNEROBJID = #{ownerObjID,jdbcType=VARCHAR}, FDCOWNEROBJTYPE = #{ownerObjType,jdbcType=CHAR}, 
  	FDCDESC = #{desc,jdbcType=VARCHAR}
  	where FDURELATIONID = #{relationID,jdbcType=VARCHAR}
  </update>
  
  <delete id="delRelation" parameterType="java.lang.String">
  	delete from TBRELATION
  	where FDURELATIONID = #{relationID,jdbcType=VARCHAR}
  </delete>
  
  <delete id="delObjectRelation" parameterType="java.util.Map">
  	delete from TBRELATION
  	where FDUOWNEROBJID = #{ownerObjID,jdbcType=VARCHAR} and FDCOWNEROBJTYPE = #{ownerObjType,jdbcType=CHAR}
  </delete>
  
  <select id="getRelation" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select FDURELATIONID, FDUOWNEROBJID, FDCOWNEROBJTYPE, FDCDESC
  	from TBRELATION
  	where FDURELATIONID = #{relationID,jdbcType=VARCHAR}
  </select>
  
  <select id="getOjbectRelation" parameterType="java.util.Map" resultMap="BaseResultMap">
  	select FDURELATIONID, FDUOWNEROBJID, FDCOWNEROBJTYPE, FDCDESC
  	from TBRELATION
  	where FDUOWNEROBJID = #{ownerObjID,jdbcType=VARCHAR} and FDCOWNEROBJTYPE = #{ownerObjType,jdbcType=CHAR}
  </select>
  
  <select id="getRelations" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select FDURELATIONID, FDUOWNEROBJID, FDCOWNEROBJTYPE, FDCDESC
  	from TBRELATION
  	where FDCOWNEROBJTYPE = #{ownerObjType,jdbcType=CHAR}
  </select>
  
  <select id="QueryAllRelations" resultMap="BaseResultMap">
  	select FDURELATIONID, FDUOWNEROBJID, FDCOWNEROBJTYPE, FDCDESC
  	from TBRELATION
  </select>
</mapper>