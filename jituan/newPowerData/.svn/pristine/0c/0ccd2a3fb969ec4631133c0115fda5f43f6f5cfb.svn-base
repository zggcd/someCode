<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ccssoft.rsas.metadata.relationitem.dao.RelationItemDAOMapper">
  <resultMap id="BaseResultMap" type="com.ccssoft.rsas.metadata.relationitem.model.RelationItemVO">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 07 14:15:22 CST 2016.
    -->
    <id column="FDURELATIONITEMID" jdbcType="VARCHAR" property="relationItemID" />
    <result column="FDURELATIONID" jdbcType="VARCHAR" property="relationID" />
    <result column="FDUPARENTITEMID" jdbcType="VARCHAR" property="parentItemID" />
    <result column="FDCITEMTYPE" jdbcType="CHAR" property="itemType" />
    <result column="FDUFILTERID" jdbcType="VARCHAR" property="filterID" />
    <result column="FDCLOGICSYMBOL" jdbcType="VARCHAR" property="logicSymbol" />
    <result column="FDIITEMORDER" jdbcType="DECIMAL" property="itemOrder" />
    <result column="FDCEXPRESSION" jdbcType="VARCHAR" property="expression" />
    <result column="FDCEXPRESSDESC" jdbcType="VARCHAR" property="expressDesc" />
    <result column="FDILEVEL" jdbcType="DECIMAL" property="level" />
  </resultMap>
  
  <insert id="addRelationItem" parameterType="com.ccssoft.rsas.metadata.relationitem.model.RelationItemVO">
  	insert into TBRELATIONITEM (FDURELATIONITEMID, FDURELATIONID, FDUPARENTITEMID, 
  	FDCITEMTYPE, FDUFILTERID, FDCLOGICSYMBOL, FDIITEMORDER, FDCEXPRESSION, FDCEXPRESSDESC, 
  	FDILEVEL)
  	values (#{relationItemID,jdbcType=VARCHAR}, #{relationID,jdbcType=VARCHAR}, 
  	#{parentItemID,jdbcType=VARCHAR}, #{itemType,jdbcType=CHAR}, 
  	#{filterID,jdbcType=VARCHAR}, #{logicSymbol,jdbcType=VARCHAR}, 
  	#{itemOrder,jdbcType=VARCHAR}, #{expression,jdbcType=VARCHAR}, 
  	#{expressDesc,jdbcType=VARCHAR}, #{level,jdbcType=DECIMAL})
  </insert>
  
  <update id="updateRelationItem" parameterType="com.ccssoft.rsas.metadata.relationitem.model.RelationItemVO">
  	update TBRELATIONITEM
  	set FDURELATIONID = #{relationID,jdbcType=VARCHAR}, FDUPARENTITEMID = #{parentItemID,jdbcType=VARCHAR}, 
  	FDCITEMTYPE = #{itemType,jdbcType=CHAR}, FDUFILTERID = #{filterID,jdbcType=VARCHAR}, 
  	FDCLOGICSYMBOL = #{logicSymbol,jdbcType=VARCHAR}, FDIITEMORDER = #{itemOrder,jdbcType=VARCHAR}, 
  	FDCEXPRESSION = #{expression,jdbcType=VARCHAR}, FDCEXPRESSDESC = #{expressDesc,jdbcType=VARCHAR}, 
  	FDILEVEL = #{level,jdbcType=DECIMAL}
  	where FDURELATIONITEMID = #{relationItemID,jdbcType=VARCHAR}
  </update>
  
  <delete id="delRelationItem" parameterType="java.lang.String">
  	delete from TBRELATIONITEM
  	where FDURELATIONITEMID = #{relationItemID,jdbcType=VARCHAR}
  </delete>
  
  <delete id="delRelationDefineItems" parameterType="java.lang.String">
  	delete from TBRELATIONITEM
  	where FDURELATIONID = #{relationID,jdbcType=VARCHAR}
  </delete>
  
  <delete id="delOjbectRelationItems" parameterType="java.util.Map">
  	delete from TBRELATIONITEM
  	where FDURELATIONID in 
  	(select FDURELATIONID from TBRELATION
  	where FDUOWNEROBJID = #{ownerObjID,jdbcType=VARCHAR} and FDCOWNEROBJTYPE = #{ownerObjType,jdbcType=CHAR})
  </delete>
  
  <select id="getRelationItem" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select FDURELATIONITEMID, FDURELATIONID, FDUPARENTITEMID, 
  	FDCITEMTYPE, FDUFILTERID, FDCLOGICSYMBOL, FDIITEMORDER, FDCEXPRESSION, FDCEXPRESSDESC, 
  	FDILEVEL
  	from TBRELATIONITEM
  	where FDURELATIONITEMID = #{relationItemID,jdbcType=VARCHAR}
  </select>
  
  <select id="getRelationItems" parameterType="java.lang.String" resultMap="BaseResultMap">
  	select FDURELATIONITEMID, FDURELATIONID, FDUPARENTITEMID, 
  	FDCITEMTYPE, FDUFILTERID, FDCLOGICSYMBOL, FDIITEMORDER, FDCEXPRESSION, FDCEXPRESSDESC, 
  	FDILEVEL
  	from TBRELATIONITEM
  	where FDURELATIONID = #{relationID,jdbcType=VARCHAR}
  </select>
</mapper>